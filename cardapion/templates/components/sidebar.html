<!-- Menu Lateral -->
<div class="fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-neumorphism transform transition-transform duration-300 ease-in-out" 
     :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'"
     x-data="sidebar()">
    
    <!-- Header do Sidebar -->
    <div class="flex items-center justify-between h-16 px-6 border-b border-gray-200">
        <div class="flex items-center">
            <div class="bg-primary rounded-lg w-8 h-8 flex items-center justify-center">
                <i class="fas fa-utensils text-white text-sm"></i>
            </div>
            <span class="ml-3 text-lg font-semibold text-gray-800">Cardápio</span>
        </div>
        <button @click="toggleSidebar" class="lg:hidden text-gray-500 hover:text-gray-700">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <!-- Informações do Usuário -->
    <div class="px-6 py-4 border-b border-gray-200">
        <div class="flex items-center">
            <div class="bg-gray-200 rounded-full w-10 h-10 flex items-center justify-center">
                <i class="fas fa-user text-gray-600"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium text-gray-800" x-text="userName || 'Usuário'"></p>
                <p class="text-xs text-gray-500" x-text="companyName || 'Empresa'"></p>
            </div>
        </div>
    </div>

    <!-- Menu de Navegação -->
    <nav class="mt-6 px-3">
        <div class="space-y-1">
            <!-- Dashboard -->
            <a href="/dashboard" 
               class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200"
               :class="isActive('/dashboard') ? 'bg-primary text-white shadow-lg' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900'">
                <i class="fas fa-chart-pie mr-3 text-sm"></i>
                Dashboard
            </a>

            <!-- Cardápio -->
            <div x-data="{ open: false }">
                <button @click="open = !open" 
                        class="group w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200">
                    <div class="flex items-center">
                        <i class="fas fa-book-open mr-3 text-sm"></i>
                        Cardápio
                    </div>
                    <i class="fas fa-chevron-down text-xs transition-transform duration-200" :class="open ? 'rotate-180' : ''"></i>
                </button>
                <div x-show="open" x-transition class="ml-6 mt-1 space-y-1">
                    <a href="/categories" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Categorias
                    </a>
                    <a href="/products" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Produtos
                    </a>
                </div>
            </div>

            <!-- Pedidos -->
            <div x-data="{ open: false }">
                <button @click="open = !open" 
                        class="group w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200">
                    <div class="flex items-center">
                        <i class="fas fa-shopping-cart mr-3 text-sm"></i>
                        Pedidos
                    </div>
                    <i class="fas fa-chevron-down text-xs transition-transform duration-200" :class="open ? 'rotate-180' : ''"></i>
                </button>
                <div x-show="open" x-transition class="ml-6 mt-1 space-y-1">
                    <a href="/orders/active" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Pedidos Ativos
                    </a>
                    <a href="/orders/delivery" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Delivery
                    </a>
                    <a href="/orders/table" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Mesa
                    </a>
                    <a href="/orders/history" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Histórico
                    </a>
                </div>
            </div>

            <!-- Mesas -->
            <a href="/tables" 
               class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200"
               :class="isActive('/tables') ? 'bg-primary text-white shadow-lg' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900'">
                <i class="fas fa-chair mr-3 text-sm"></i>
                Mesas
            </a>

            <!-- Clientes -->
            <a href="/clients" 
               class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200"
               :class="isActive('/clients') ? 'bg-primary text-white shadow-lg' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900'">
                <i class="fas fa-users mr-3 text-sm"></i>
                Clientes
            </a>

            <!-- Relatórios -->
            <div x-data="{ open: false }">
                <button @click="open = !open" 
                        class="group w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200">
                    <div class="flex items-center">
                        <i class="fas fa-chart-bar mr-3 text-sm"></i>
                        Relatórios
                    </div>
                    <i class="fas fa-chevron-down text-xs transition-transform duration-200" :class="open ? 'rotate-180' : ''"></i>
                </button>
                <div x-show="open" x-transition class="ml-6 mt-1 space-y-1">
                    <a href="/reports/sales" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Vendas
                    </a>
                    <a href="/reports/products" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Produtos
                    </a>
                    <a href="/reports/financial" class="block px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors">
                        Financeiro
                    </a>
                </div>
            </div>

            <!-- Configurações -->
            <a href="/settings" 
               class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200"
               :class="isActive('/settings') ? 'bg-primary text-white shadow-lg' : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900'">
                <i class="fas fa-cog mr-3 text-sm"></i>
                Configurações
            </a>
        </div>
    </nav>

    <!-- Footer do Sidebar -->
    <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200">
        <button @click="logout" 
                class="w-full flex items-center px-3 py-2 text-sm font-medium text-red-600 rounded-lg hover:bg-red-50 hover:text-red-700 transition-all duration-200">
            <i class="fas fa-sign-out-alt mr-3 text-sm"></i>
            Sair
        </button>
    </div>
</div>

<!-- Overlay para mobile -->
<div x-show="sidebarOpen" 
     x-transition:enter="transition-opacity ease-linear duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition-opacity ease-linear duration-300"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     @click="sidebarOpen = false"
     class="fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden"></div>

<script>
function sidebar() {
    return {
        sidebarOpen: false,
        userName: 'João Silva', // Será carregado dinamicamente
        companyName: 'Restaurante XYZ', // Será carregado dinamicamente

        toggleSidebar() {
            this.sidebarOpen = !this.sidebarOpen;
        },

        isActive(path) {
            return window.location.pathname === path;
        },

        logout() {
            if (confirm('Tem certeza que deseja sair?')) {
                // Implementar logout
                window.location.href = '/login';
            }
        }
    }
}
</script>
